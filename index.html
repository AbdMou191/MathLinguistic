<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO Meta Tags -->
  <title>MathLinguistic - منصة ذكية للحساب الذهني والتحديات الرياضية</title>
  <meta name="description" content="تعلّم الرياضيات عبر مستويات تفاعلية: مبتدئ، متوسط، متقدم، معقد. اختبر سرعتك، اربح نقاطًا، واحصل على أوسمة الإنجاز!">
  <meta name="keywords" content="رياضيات, حساب ذهني, تعلم رياضيات, ألعاب رياضيات, إنجازات, تطبيق تعليمي, MathLinguistic">
  <meta name="author" content="Moussa Abderrezagui">
  <meta name="robots" content="index, follow">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="MathLinguistic - منصة ذكية للحساب الذهني" />
  <meta property="og:description" content="تعلّم الرياضيات عبر مستويات تفاعلية: مبتدئ، متوسط، متقدم، معقد. اختبر سرعتك، اربح نقاطًا، واحصل على أوسمة الإنجاز!" />
  <meta property="og:url" content="https://abdmou191.github.io/MathLinguistic/" />
  <meta property="og:image" content="/icons/icon-512.png" />
  <meta property="og:locale" content="ar_AR" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="MathLinguistic - منصة ذكية للحساب الذهني" />
  <meta name="twitter:description" content="تعلّم الرياضيات عبر مستويات تفاعلية: مبتدئ، متوسط، متقدم، معقد. اختبر سرعتك، اربح نقاطًا، واحصل على أوسمة الإنجاز!" />
  <meta name="twitter:image" content="/icons/icon-512.png" />

  <!-- Mobile & PWA -->
  <meta name="theme-color" content="#3498db" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="MathLinguistic" />
  <link rel="apple-touch-icon" href="/icons/icon-192.png" />

  <!-- Manifest & Icons -->
  <link rel="manifest" href="/manifest.json" />
  <link rel="icon" type="image/png" sizes="192x192" href="/icons/icon-192.png" />
  <link rel="icon" type="image/png" sizes="512x512" href="/icons/icon-512.png" />

  <!-- ربط Font Awesome من المسار المحلي -->
  <link rel="stylesheet" href="styles/font-awesome/css/all.min.css" />
  <link rel="stylesheet" href="styles/main.css" />

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(reg => console.log('[PWA] Service Worker registered:', reg.scope))
          .catch(err => console.error('[PWA] Service Worker registration failed:', err));      });
    }

    let deferredPrompt;
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      localStorage.setItem('pwa_installable', 'true');
    });

    window.installPWA = () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then((choiceResult) => {
          if (choiceResult.outcome === 'accepted') {
            localStorage.setItem('pwa_installed', 'true');
            if (typeof window.checkAndUnlockAchievements === 'function') {
              window.checkAndUnlockAchievements(); // فتح إنجاز "مستخدم ذكي"
            }
          }
          deferredPrompt = null;
        });
      }
    };
  </script>
</head>
<body>
  <!-- الهيدر -->
  <header>
    <!-- زر القائمة (للاستخدام على الجوال) -->
    <button id="menu-toggle" aria-label="فتح القائمة">
      <i class="fas fa-bars"></i>
    </button>

    <!-- شعار الموقع: آلة حاسبة + اسم -->
    <div id="site-logo">
      <i class="fas fa-calculator"></i>
      <span>MathLinguistic</span>
    </div>

    <!-- زر تبديل الثيم (ليلي/نهاري) -->
    <button id="theme-toggle" aria-label="تبديل الوضع">
      <i class="fas fa-moon"></i>
    </button>
  </header>

  <!-- القائمة الجانبية -->
  <aside id="sidebar-menu" class="sidebar" aria-hidden="true">
    <nav id="sidebar-nav">
      <ul id="sidebar-menu-list">        <li>
          <button class="menu-item" data-target="home">
            <i class="fas fa-home"></i> الرئيسية
          </button>
        </li>
        <li>
          <button class="menu-item" data-target="beginner">
            <i class="fas fa-star"></i> المستوى المبتدئ
          </button>
        </li>
        <li>
          <button class="menu-item" data-target="intermediate">
            <i class="fas fa-chart-line"></i> المستوى المتوسط
          </button>
        </li>
        <li>
          <button class="menu-item" data-target="advanced">
            <i class="fas fa-brain"></i> المستوى المتقدم
          </button>
        </li>
        <li>
          <button class="menu-item" data-target="complex">
            <i class="fas fa-infinity"></i> المستوى المعقد
          </button>
        </li>
        <li>
          <button class="menu-item" data-target="achievements">
            <i class="fas fa-trophy"></i> الإنجازات
          </button>
        </li>
      </ul>
    </nav>
  </aside>

  <!-- المحتوى الرئيسي -->
  <main id="main-content">
    <p>مرحباً بك في MathLinguistic! سيتم عرض المحتوى هنا ديناميكياً.</p>
  </main>

  <!-- التذييل -->
  <footer>
    <!-- روابط الصفحات الثابتة -->
    <nav id="static-pages">
      <button class="footer-link" data-static-page="about">من نحن</button>
      <button class="footer-link" data-static-page="contact">اتصل بنا</button>
      <button class="footer-link" data-static-page="terms">شروط الاستخدام</button>
      <button class="footer-link" data-static-page="privacy">سياسة الخصوصية</button>
    </nav>

    <!-- أيقونات التواصل الاجتماعي + زر التثبيت -->    <div id="social-icons">
      <a href="https://facebook.com/yourpage" target="_blank" aria-label="فيسبوك">
        <i class="fab fa-facebook"></i>
      </a>
      <a href="https://youtube.com/yourchannel" target="_blank" aria-label="يوتيوب">
        <i class="fab fa-youtube"></i>
      </a>
      <a href="https://wa.me/213781263021" target="_blank" aria-label="واتساب">
        <i class="fab fa-whatsapp"></i>
      </a>
      <!-- زر التثبيت كتطبيق -->
      <button id="install-pwa-btn" onclick="installPWA()" aria-label="تثبيت التطبيق">
        <i class="fas fa-download"></i>
      </button>
    </div>

    <!-- معلومات الاتصال -->
    <div id="contact-info">
      <p>البريد الإلكتروني: <a href="mailto:moussa.abderrezagui191@gmail.com">moussa.abderrezagui191@gmail.com</a></p>
      <p>واتساب: <a href="https://wa.me/213781263021">+213 781 263 021</a></p>
    </div>

    <!-- حقوق الطبع والنشر -->
    <div id="copyright">
      &copy; 2026 MathLinguistic. جميع الحقوق محفوظة.
    </div>

    <!-- زر العودة إلى الأعلى -->
    <button id="back-to-top" aria-label="العودة إلى الأعلى">
      <i class="fas fa-arrow-up"></i>
    </button>
  </footer>

  <!-- Scripts -->
  <script src="scripts/levels/speed-test.js"></script>
  <script src="scripts/levels/mental-math.js"></script>
  <script src="scripts/levels/mixed-ops.js"></script>
  <script src="scripts/achievements.js"></script>
  <script src="scripts/main.js"></script>
  <script src="scripts/levels/beginner.js"></script>
  <script src="scripts/levels/intermediate.js"></script>
  <script src="scripts/levels/advanced.js"></script>
  <script src="scripts/levels/complex.js"></script>
  <script src="scripts/levels/sliding_puzzle.js"></script>
  <script src="scripts/levels/loudoukou.js"></script>
    <script src="scripts/levels/crossmath.js"></script>
  <script src="scripts/levels/calculator.js"></script>
  <!-- CSS for Install Button (optional styling) -->
  <style>
    #install-pwa-btn {
      background: #3498db;
      color: white;
      border: none;      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: background 0.3s;
      margin-right: 8px;
    }
    #install-pwa-btn:hover {
      background: #2980b9;
    }
    [data-theme="dark"] #install-pwa-btn {
      background: #2c3e50;
    }
    [data-theme="dark"] #install-pwa-btn:hover {
      background: #1a252f;
    }
  </style>
</body>
</html>